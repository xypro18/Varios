package pt.web.loja.rest;

import javax.json.Json;
import javax.json.JsonObject;
import javax.ws.rs.GET;
import javax.ws.rs.Produces;

import pt.loja.model.Produto;

import javax.ws.rs.Path;

public class ProdutosControlerRest {

	@Path("/produtos")
	private JsonObject buildProdutoJson(Produto p) {
		return Json.createObjectBuilder().add("nome", p.getNome()).add("id", p.getId()).add("preco", p.getPreco())
				.build();
	}

	@GET
	@Path("ping")
	@Produces({ "application/xml", "application/json" })
	public JsonObject ping() {
		return Json.createObjectBuilder().add("message", "pong").build();
	}
	
	@GET
	@Path("produto")
	@Produces({ "application/xml", "application/json" })
	public JsonObject obtemProduto() {
		Produto p  = new Produto();
		p.setId(10);
		p.setNome("Berlindes");
		p.setPreco(25.3);
		
		return Json.createObjectBuilder().add("produto", buildProdutoJson(p)).build();
	}
	
	@GET
	@Path("echo")
	@Produces({ "application/xml", "application/json" })
	
	
	
	

}
